<adonisControls:AdonisWindow x:Name="MainStart" x:Class="DMM_Hide_Launcher.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:DMM_Hide_Launcher"
        mc:Ignorable="d"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:controls="https://handyorg.github.io/handycontrol"
        xmlns:adonisExtensions="clr-namespace:AdonisUI.Extensions;assembly=AdonisUI"
        xmlns:adonisUi="clr-namespace:AdonisUI;assembly=AdonisUI"
        xmlns:adonisControls="clr-namespace:AdonisUI.Controls;assembly=AdonisUI"
        Title="DMM Launcher" Height="450" Width="800" MinHeight="450" MinWidth="800" ShrinkTitleBarWhenMaximized="False" WindowStartupLocation="CenterScreen" FontFamily="{DynamicResource MiSansFont}"
        >


    <Grid Margin="0">
        <!-- 网格行定义 -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        
        
        <!-- 标题栏区域 -->

        <Grid Grid.Row="0" Background="{DynamicResource TitleBarBackgroundBrush}" Height="25" VerticalAlignment="Top">
            <TextBlock  x:Name="Version_Patch" HorizontalAlignment="Left" TextWrapping="Wrap" Text="TextBox" VerticalAlignment="Top" Width="120" Height="17" FontWeight="Bold"/>
            <controls:SimplePanel x:Name="Panel_Theme" HorizontalAlignment="Right" VerticalAlignment="Top" Width="25" Height="25"  MouseDown="Button_Theme_Click">
                <controls:SimplePanel.Background>
                    <ImageBrush ImageSource="pack://application:,,,/DMM_Hide_Launcher;component/public/moon.ico"/>
                </controls:SimplePanel.Background>
            </controls:SimplePanel>

        </Grid>

        <!-- 主要内容区域 -->
        <Grid Grid.Row="1">
            <Grid.RowDefinitions>
                <RowDefinition/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="210"/>
                <ColumnDefinition/>
            </Grid.ColumnDefinitions>

            <Grid Grid.Column="1" Margin="116,0,31,25" Height="28" VerticalAlignment="Bottom">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition/>
                    <ColumnDefinition Width="80"/>
                    <ColumnDefinition Width="60"/>
                </Grid.ColumnDefinitions>
                <TextBox x:Name="game_path_text" TextWrapping="Wrap" adonisExtensions:WatermarkExtension.Watermark="游戏目录(请输入dmmdzz.exe上层目录)" TextChanged="GamePath_TextChanged" adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" />
                <Button x:Name="FindPathButton" Content="自动查找" Grid.Column="1" adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" Click="FindPathButton_Click" Height="28" Width="64"/>
                <Button Grid.Column="2" Content="保存"  Margin="10,0,0,0" VerticalAlignment="Center" Click="SaveVersionDataToFile" adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" HorizontalAlignment="Center" Width="40" Height="26"/>
            </Grid>
            <!-- 登录切换 -->
            <controls:TabControl x:Name="User_Tab" Background="Transparent" Style="{StaticResource TabControlCapsule}" IsTabFillEnabled="True" Width="207" Height="257" RenderTransformOrigin="1,0.5" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,10,0,0">
                <controls:TabItem Header="4399" Width="78" Background="Transparent">
                    <!--Visibility="Collapsed"-->
                    <Grid>
                        <controls:SimplePanel Height="188" VerticalAlignment="Center">
                            <controls:TextBox x:Name="ID_4399" TextWrapping="Wrap" controls:InfoElement.Placeholder="4399ID" TextChanged="User_TextChanged" Margin="14,41,14,0" Height="28" VerticalAlignment="Top" TextAlignment="Center" FontWeight="Bold" IsReadOnly="True"/>
                            <Button x:Name="Button_of_4399_Game_Start" Content="4399" VerticalAlignment="Top" Click="Start_Game_4399_Click" Margin="44,106,44,0" Height="28"  adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" />
                        </controls:SimplePanel>
                    </Grid>
                </controls:TabItem>
                <controls:TabItem Header="7K7K">
                    <!--Visibility="Collapsed" -->
                    <Grid>
                        <controls:SimplePanel Margin="0,0,0,0" Height="172" VerticalAlignment="Center" Width="188">
                            <controls:TextBox x:Name="User_Text" TextWrapping="Wrap" controls:InfoElement.Placeholder="请输入用户名" TextChanged="User_TextChanged" Margin="14,33,14,0" Height="28" VerticalAlignment="Top" FontFamily="Microsoft YaHei"/>
                            <controls:PasswordBox x:Name="Password"  controls:InfoElement.Placeholder="请输入密码"  Margin="14,76,14,0" Height="28" VerticalAlignment="Top" />
                            <Button x:Name="Button_of_7K7K_Game_Start" Content="7K7K" VerticalAlignment="Top" Click="Start_Game_7k7k_Click" Margin="44,117,44,0" HorizontalAlignment="Stretch" Height="28" adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" />
                        </controls:SimplePanel>
                    </Grid>
                </controls:TabItem>           
            </controls:TabControl>
            <!-- 右半部分 -->
            <TabControl Grid.Column="1" Margin="20,40,10,70" SelectedIndex="0">
                <TabItem Header="XML">
                    <!-- Visibility="Collapsed"-->
                    <Grid>
                        <Grid  Margin="10,10,10,10">
                            <controls:ScrollViewer Margin="0,-8,0,0" VerticalScrollBarVisibility="Auto" Name="ScrollViewer_XML">
                                <TextBlock x:Name="XML_Text" TextWrapping="Wrap" RenderTransformOrigin="0,0.5" FontSize="14" Margin="0,0,10,0">
                                    <TextBlock.RenderTransform>
                                        <TransformGroup>
                                            <ScaleTransform/>
                                            <SkewTransform/>
                                            <RotateTransform/>
                                            <TranslateTransform X="2"/>
                                        </TransformGroup>
                                    </TextBlock.RenderTransform><Run Text="Loading..."/><LineBreak/><Run/></TextBlock>
                            </controls:ScrollViewer>
                            <hc:GotoTop Animated="True" AutoHiding="True" AnimationTime="500" Target="{Binding ElementName=ScrollViewer_XML}" HorizontalAlignment="Right" VerticalAlignment="Bottom" Height="27" Width="26"/>
                        </Grid>
                    </Grid>
                </TabItem>
                <TabItem Header="UserItem" >
                    <!--Visibility="Collapsed"-->
                    <Grid Margin="0,0,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="28"/>
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <DockPanel Grid.Row="0">
                            <TextBlock Text="7K7K账号管理" FontWeight="Bold" DockPanel.Dock="Left" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Button x:Name="EditUser" Content="编辑账号" Click="EditUser_Click" DockPanel.Dock="Right" Width="99"
                                 adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,20,0"/>
                        </DockPanel>
                        <controls:ScrollViewer Grid.Row="1">
                            <ItemsControl x:Name="lstAccounts" Margin="20,0,0,0" Width="380" HorizontalAlignment="Left">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <StackPanel Orientation="Horizontal" Height="30">
                                            <TextBlock Text="{Binding Username}" Margin="0,0,10,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                                            <!-- 直接绑定DataContext到Account对象，通过Tag传递数据 -->
                                            <Button x:Name="Use_User_Button" Content="使用" Height="26" Tag="{Binding}"
                              Click="Use_User_Button_Click" adonisExtensions:CornerRadiusExtension.CornerRadius="4" adonisExtensions:CursorSpotlightExtension.RelativeSpotlightSize="0.4" adonisExtensions:CursorSpotlightExtension.MaxBlurRadius="10"/>
                                        </StackPanel>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </controls:ScrollViewer>
                    </Grid>
                </TabItem>
                <TabItem Header="Tools">
                    <Grid Margin="20">
                        <Button x:Name="CountButton" Content="count" Width="100" Height="40" FontSize="16"
                                Click="CountButton_Click" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Grid>
                </TabItem>
            </TabControl>
        </Grid>
        <ScrollViewer VerticalScrollBarVisibility="Hidden" HorizontalAlignment="Right" Grid.RowSpan="3" VerticalAlignment="Top" HorizontalContentAlignment="Right">
        <StackPanel x:Name="GrowlPanel_MainStart" VerticalAlignment="Top" Margin="0,-10,0,0"/>
        </ScrollViewer>
    </Grid>
</adonisControls:AdonisWindow>
